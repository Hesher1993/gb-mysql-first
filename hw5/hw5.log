mysql> -- 1. Реализовать практические задания на примере других таблиц и запросов.
mysql> -- взял чистую бд городов, без индексов
mysql> EXPLAIN SELECT
    ->   ci.title as city_name,
    ->   r.title as region_name,
    ->   co.title as country_name
    -> FROM _cities ci
    ->   JOIN _regions r ON ci.region_id = r.id
    ->   JOIN _countries co ON ci.country_id = co.id;
ERROR 2006 (HY000): MySQL server has gone away
No connection. Trying to reconnect...
Connection id:    2
Current database: geodata

+----+-------------+-------+--------+---------------+--------------+---------+----------------------+------+-------+
| id | select_type | table | type   | possible_keys | key          | key_len | ref                  | rows | Extra |
+----+-------------+-------+--------+---------------+--------------+---------+----------------------+------+-------+
|  1 | SIMPLE      | co    | ALL    | PRIMARY       | NULL         | NULL    | NULL                 |  234 | NULL  |
|  1 | SIMPLE      | ci    | ref    | city_country  | city_country | 4       | geodata.co.id        | 5017 | NULL  |
|  1 | SIMPLE      | r     | eq_ref | PRIMARY       | PRIMARY      | 4       | geodata.ci.region_id |    1 | NULL  |
+----+-------------+-------+--------+---------------+--------------+---------+----------------------+------+-------+
3 rows in set (0.01 sec)
mysql> EXPLAIN SELECT r.title as region_name, ci.title as city_name
    -> FROM _regions r
    -> JOIN _cities ci ON r.id = ci.region_id
    -> WHERE r.title = 'Московская область';
ERROR 2006 (HY000): MySQL server has gone away
No connection. Trying to reconnect...
Connection id:    3
Current database: geodata

+----+-------------+-------+--------+---------------+---------+---------+----------------------+---------+-------------+
| id | select_type | table | type   | possible_keys | key     | key_len | ref                  | rows    | Extra       |
+----+-------------+-------+--------+---------------+---------+---------+----------------------+---------+-------------+
|  1 | SIMPLE      | ci    | ALL    | NULL          | NULL    | NULL    | NULL                 | 2207714 | NULL        |
|  1 | SIMPLE      | r     | eq_ref | PRIMARY       | PRIMARY | 4       | geodata.ci.region_id |       1 | Using where |
+----+-------------+-------+--------+---------------+---------+---------+----------------------+---------+-------------+
2 rows in set (0.01 sec)
